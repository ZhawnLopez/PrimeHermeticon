<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register â€” HermetiCart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/styles.css">

    <style>
    body {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        background: #0d0f14;
    }

    .auth-wrap { width:100%; max-width:420px; }

    .auth-logo { text-align:center; margin-bottom:2.5rem; }

    .auth-eyebrow {
        font-size:0.68rem; letter-spacing:0.18em; text-transform:uppercase;
        color:#8a8fa8; font-family:'DM Sans',sans-serif; margin-top:0.4rem;
    }

    .auth-card {
        background:#13161e;
        border:1px solid rgba(201,168,76,0.15);
        border-radius:20px;
        padding:2.5rem;
        box-shadow:0 40px 80px rgba(0,0,0,0.5);
        position:relative;
        overflow:hidden;
    }

    .auth-card::before {
        content:'';
        position:absolute;
        top:0; left:20%; right:20%;
        height:1px;
        background:linear-gradient(90deg,transparent,rgba(201,168,76,0.5),transparent);
    }

    .auth-title {
        font-family:'Cormorant Garamond',serif;
        font-size:1.8rem; font-weight:700; color:#f0ead6; margin-bottom:0.3rem;
    }

    .auth-subtitle { font-size:0.82rem; color:#8a8fa8; margin-bottom:2rem; }

    .field-label {
        display:block; font-size:0.7rem; letter-spacing:0.12em; text-transform:uppercase;
        color:#8a8fa8; font-family:'DM Sans',sans-serif; margin-bottom:0.5rem;
    }

    .field-input {
        width:100%; background:#0d0f14; border:1px solid rgba(201,168,76,0.15);
        border-radius:10px; padding:0.8rem 1rem; color:#f0ead6;
        font-family:'DM Sans',sans-serif; font-size:0.9rem; outline:none;
        transition:border-color 0.25s, box-shadow 0.25s; margin-bottom:1.25rem;
    }

    .field-input:focus {
        border-color:rgba(201,168,76,0.5);
        box-shadow:0 0 0 3px rgba(201,168,76,0.08);
    }

    .field-input::placeholder { color:#3a3f52; }

    .auth-error {
        font-size:0.8rem; color:#c0454a; margin-bottom:1rem;
        min-height:1.2em; font-family:'DM Sans',sans-serif;
    }

    .auth-submit {
        width:100%; padding:0.9rem;
        background:linear-gradient(135deg,#c9a84c,#a88030);
        color:#0d0f14; font-family:'DM Sans',sans-serif; font-weight:500;
        font-size:0.78rem; letter-spacing:0.12em; text-transform:uppercase;
        border:none; border-radius:10px; cursor:pointer;
        transition:all 0.25s ease; box-shadow:0 6px 20px rgba(201,168,76,0.2);
    }

    .auth-submit:hover {
        background:linear-gradient(135deg,#e8c97a,#c9a84c);
        transform:translateY(-2px); box-shadow:0 10px 30px rgba(201,168,76,0.35);
    }

    .auth-footer {
        margin-top:1.5rem; text-align:center; font-size:0.82rem;
        color:#8a8fa8; font-family:'DM Sans',sans-serif;
    }

    .auth-footer a { color:#c9a84c; text-decoration:none; transition:color 0.2s; }
    .auth-footer a:hover { color:#e8c97a; }
    </style>
</head>
<body>

    <div class="auth-wrap">
        <div class="auth-logo">
            <span style="font-family:'Cormorant Garamond',serif; font-size:1.6rem; font-weight:600; color:#c9a84c; letter-spacing:0.06em; animation:logoSettle 2.4s cubic-bezier(0.16,1,0.3,1) forwards;">HermetiCart</span>
            <style>
            @keyframes logoSettle {
                0%   { letter-spacing:0.32em; opacity:0.4; }
                100% { letter-spacing:0.06em; opacity:1; }
            }
            </style>
            <p class="auth-eyebrow">Create Account</p>
        </div>

        <div class="auth-card">
            <h1 class="auth-title">Join Us</h1>
            <p class="auth-subtitle">Create your account to start shopping.</p>

            <form id="registerForm" action="../backend/register.php" method="POST">
                <label for="name" class="field-label">Full Name</label>
                <input type="text" id="name" name="name" required placeholder="Jane Doe" class="field-input">

                <label for="email" class="field-label">Email Address</label>
                <input type="email" id="email" name="email" required placeholder="you@example.com" class="field-input">

                <label for="password" class="field-label">Password</label>
                <input type="password" id="password" name="password" required placeholder="Min. 8 characters" class="field-input">

                <div class="auth-error" id="registerError"></div>

                <button type="submit" class="auth-submit">Create Account</button>
            </form>
        </div>

        <p class="auth-footer">
            Already have an account? <a href="login.html">Sign in</a>
        </p>
    </div>

    <script>
    const form = document.getElementById("registerForm");
    const registerError = document.getElementById("registerError");

    form.addEventListener("submit", async (e) => {
        e.preventDefault();
        registerError.textContent = "";
        const fd = new FormData(form);
        try {
            const res  = await fetch(form.action, { method:"POST", body:fd, headers:{'X-Requested-With':'XMLHttpRequest'}, credentials:'same-origin' });
            const data = await res.json();
            if (data.success) {
                window.location.href = "login.html";
            } else {
                registerError.textContent = data.message || "Registration failed.";
            }
        } catch (err) {
            registerError.textContent = "Server error. Please try again.";
        }
    });
    </script>
</body>
</html>